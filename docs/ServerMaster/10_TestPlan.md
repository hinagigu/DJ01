---
status: todo
progress: 0
milestones: 4
completed: 0
priority: P2
phase: phase5
tags: [test, demo, phase5]
---

# 10 - æµ‹è¯•è®¡åˆ’ä¸æ¼”ç¤ºåœºæ™¯

## ğŸ“‹ é‡Œç¨‹ç¢‘è¿½è¸ª

| # | é‡Œç¨‹ç¢‘ | çŠ¶æ€ | éªŒæ”¶æ ‡å‡† |
|---|--------|:----:|----------|
| M1 | æµ‹è¯•ç¯å¢ƒ | â¬œ | æ‰€æœ‰æœåŠ¡èƒ½å¯åŠ¨ |
| M2 | å•å…ƒæµ‹è¯• | â¬œ | Go/UE5å•å…ƒæµ‹è¯•é€šè¿‡ |
| M3 | é›†æˆæµ‹è¯• | â¬œ | å„Phaseæµ‹è¯•ç”¨ä¾‹é€šè¿‡ |
| M4 | Demoæ¼”ç¤º | â¬œ | å®Œæ•´æ¼”ç¤ºæµç¨‹æˆåŠŸ |

> **è¿›åº¦**: 0/4 = 0%

---

### M1: æµ‹è¯•ç¯å¢ƒ

**ç›®æ ‡**: æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»º

**GoæœåŠ¡**:
- [ ] Switcher å¯å¯åŠ¨ (:9000)
- [ ] Master å¯å¯åŠ¨ (:9001)
- [ ] Gateway å¯å¯åŠ¨ (:8080)
- [ ] ä¸€é”®å¯åŠ¨è„šæœ¬

**UE5æœåŠ¡**:
- [ ] DS-1 å¯å¯åŠ¨ (:7777, Zone 0,0)
- [ ] DS-2 å¯å¯åŠ¨ (:7778, Zone 1,0)
- [ ] å®¢æˆ·ç«¯å¯å¯åŠ¨

**éªŒæ”¶**: `start_cluster.bat` ä¸€é”®å¯åŠ¨å…¨éƒ¨æœåŠ¡

**å®Œæˆæ—¥æœŸ**: ____

---

### M2: å•å…ƒæµ‹è¯•

**Goä¾§**:
- [ ] `go test ./pkg/address/...` PASS
- [ ] `go test ./internal/protocol/...` PASS
- [ ] `go test ./internal/switcher/...` PASS
- [ ] `go test ./internal/master/...` PASS

**UE5ä¾§**:
- [ ] ServiceAddress Automation Test PASS
- [ ] ZoneCalculation Automation Test PASS

**éªŒæ”¶**: æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡

**å®Œæˆæ—¥æœŸ**: ____

---

### M3: é›†æˆæµ‹è¯•

**Phase 1 æµ‹è¯•**:
- [ ] TC-1.1: Switcherå¯åŠ¨ç›‘å¬
- [ ] TC-1.2: DSæ³¨å†ŒæˆåŠŸ
- [ ] TC-1.3: å¿ƒè·³è¶…æ—¶æ£€æµ‹

**Phase 2 æµ‹è¯•**:
- [ ] TC-2.1: å¤šDSæ³¨å†Œ
- [ ] TC-2.2: è´Ÿè½½å‡è¡¡
- [ ] TC-2.3: Gatewayç™»å½•

**Phase 3 æµ‹è¯•**:
- [ ] TC-3.1: Ghoståˆ›å»º
- [ ] TC-3.2: Ghostä½ç½®åŒæ­¥
- [ ] TC-3.3: Ghosté”€æ¯

**Phase 4 æµ‹è¯•**:
- [ ] TC-4.1: æƒå¨è½¬ç§»å®Œæˆ
- [ ] TC-4.2: çŠ¶æ€å®Œæ•´è¿ç§»
- [ ] TC-4.3: å®¢æˆ·ç«¯æ— ç¼åˆ‡æ¢

**éªŒæ”¶**: æ‰€æœ‰é›†æˆæµ‹è¯•ç”¨ä¾‹é€šè¿‡

**å®Œæˆæ—¥æœŸ**: ____

---

### M4: Demoæ¼”ç¤º

**æ¼”ç¤ºæµç¨‹**:
- [ ] 1. å±•ç¤ºæœåŠ¡å¯åŠ¨ (Go + UE5)
- [ ] 2. å±•ç¤ºå®¢æˆ·ç«¯ç™»å½•
- [ ] 3. å±•ç¤ºGhoståˆ›å»º (è¾¹ç•Œå¯è§æ€§)
- [ ] 4. å±•ç¤ºè·¨Zoneè½¬ç§» (æ— ç¼)
- [ ] 5. å±•ç¤ºDebug HUD

**éªŒæ”¶**: å®Œæ•´æ¼”ç¤ºå½•å±/æˆªå›¾

**å®Œæˆæ—¥æœŸ**: ____

## æ¦‚è¿°

å®šä¹‰åˆ†å¸ƒå¼æ¶æ„çš„æµ‹è¯•ç­–ç•¥ã€æ¼”ç¤ºåœºæ™¯å’ŒéªŒæ”¶æ ‡å‡†ã€‚

---

## æµ‹è¯•ç¯å¢ƒ

### æœ€å°æµ‹è¯•é…ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æœ¬åœ°å¼€å‘æœº                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚Switcher â”‚  â”‚ Master  â”‚  â”‚ Gateway â”‚   Goè¿›ç¨‹    â”‚
â”‚  â”‚ :9000   â”‚  â”‚  :9001  â”‚  â”‚  :8080  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚  DS-1   â”‚  â”‚  DS-2   â”‚   UE5 DSè¿›ç¨‹             â”‚
â”‚  â”‚Zone(0,0)â”‚  â”‚Zone(1,0)â”‚                          â”‚
â”‚  â”‚ :7777   â”‚  â”‚ :7778   â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚Client-1 â”‚  â”‚Client-2 â”‚   UE5 Client (PIE)       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ‰©å±•æµ‹è¯•é…ç½® (2Ã—2)

```
Goè¿›ç¨‹:
- Switcher Ã— 1
- Master Ã— 1  
- Gateway Ã— 1

UE5 DS:
- DS-1 (Zone 0,0)
- DS-2 (Zone 1,0)
- DS-3 (Zone 0,1)
- DS-4 (Zone 1,1)

å®¢æˆ·ç«¯:
- 2-4ä¸ªClient
```

---

## æµ‹è¯•é˜¶æ®µ

### Phase 1: é€šä¿¡åŸºç¡€

| æµ‹è¯•é¡¹ | éªŒæ”¶æ ‡å‡† |
|-------|---------|
| Switcherå¯åŠ¨ | ç›‘å¬9000ç«¯å£æˆåŠŸ |
| DSè¿æ¥Switcher | TCPè¿æ¥å»ºç«‹ |
| æ¶ˆæ¯æ”¶å‘ | å‘é€æ¶ˆæ¯ï¼Œå¯¹æ–¹èƒ½æ¥æ”¶ |
| å¿ƒè·³æœºåˆ¶ | 5ç§’é—´éš”ï¼Œ30ç§’è¶…æ—¶æ£€æµ‹ |

**æµ‹è¯•ç”¨ä¾‹**:
```
TC-1.1: Switcherå¯åŠ¨
  - å¯åŠ¨Switcher
  - éªŒè¯ç›‘å¬ç«¯å£

TC-1.2: DSæ³¨å†Œ
  - å¯åŠ¨DS
  - DSè¿æ¥Switcher
  - DSå‘é€æ³¨å†Œæ¶ˆæ¯
  - éªŒè¯Masteræ”¶åˆ°æ³¨å†Œ

TC-1.3: å¿ƒè·³è¶…æ—¶
  - DSæ³¨å†ŒæˆåŠŸ
  - åœæ­¢DS
  - ç­‰å¾…30ç§’
  - éªŒè¯Masteræ£€æµ‹åˆ°è¶…æ—¶
```

### Phase 2: æœåŠ¡åè°ƒ

| æµ‹è¯•é¡¹ | éªŒæ”¶æ ‡å‡† |
|-------|---------|
| æœåŠ¡æ³¨å†Œ | DSæ³¨å†ŒæˆåŠŸï¼ŒMasterè®°å½• |
| æœåŠ¡å‘ç° | æŸ¥è¯¢DSåˆ—è¡¨æ­£ç¡® |
| è´Ÿè½½å‡è¡¡ | é€‰æ‹©ä½è´Ÿè½½DS |
| Zoneåˆ†é… | Zoneä¸DSæ­£ç¡®æ˜ å°„ |

**æµ‹è¯•ç”¨ä¾‹**:
```
TC-2.1: å¤šDSæ³¨å†Œ
  - å¯åŠ¨DS-1, DS-2
  - éªŒè¯Masterè®°å½•2ä¸ªDS

TC-2.2: è´Ÿè½½å‡è¡¡
  - DS-1: 80ç©å®¶, DS-2: 20ç©å®¶
  - è¯·æ±‚é€‰æ‹©DS
  - éªŒè¯ä¼˜å…ˆè¿”å›DS-2

TC-2.3: Zoneæ˜ å°„
  - DS-1è´Ÿè´£Zone(0,0)
  - DS-2è´Ÿè´£Zone(1,0)
  - æŸ¥è¯¢Zone(0,0)è¿”å›DS-1
```

### Phase 3: Ghostç³»ç»Ÿ

| æµ‹è¯•é¡¹ | éªŒæ”¶æ ‡å‡† |
|-------|---------|
| Ghoståˆ›å»º | è¿›å…¥è¾¹ç•Œå¸¦ï¼Œç›¸é‚»DSåˆ›å»ºGhost |
| Ghosté”€æ¯ | ç¦»å¼€è¾¹ç•Œå¸¦ï¼ŒGhosté”€æ¯ |
| ä½ç½®åŒæ­¥ | Ghostä½ç½®è·Ÿéšæƒå¨å®ä½“ |
| å¯è§æ€§ | å®¢æˆ·ç«¯èƒ½çœ‹åˆ°Ghost |

**æµ‹è¯•ç”¨ä¾‹**:
```
TC-3.1: Ghoståˆ›å»º
  - ç©å®¶åœ¨Zone(0,0)ä¸­å¿ƒ
  - ç©å®¶ç§»åŠ¨åˆ°ä¸œè¾¹ç•Œå¸¦
  - éªŒè¯DS-2(Zone 1,0)åˆ›å»ºGhost

TC-3.2: Ghostä½ç½®åŒæ­¥
  - Ghostå·²åˆ›å»º
  - æƒå¨å®ä½“ç§»åŠ¨
  - éªŒè¯Ghostä½ç½®æ›´æ–°(å»¶è¿Ÿ<100ms)

TC-3.3: Ghostå¯è§
  - Client-2åœ¨Zone(1,0)
  - Client-1(Ghost)è¿›å…¥è¾¹ç•Œå¸¦
  - éªŒè¯Client-2èƒ½çœ‹åˆ°Client-1
```

### Phase 4: æƒå¨è½¬ç§»

| æµ‹è¯•é¡¹ | éªŒæ”¶æ ‡å‡† |
|-------|---------|
| è½¬ç§»è§¦å‘ | è·¨è¶ŠZoneè¾¹ç•Œè§¦å‘è½¬ç§» |
| æ•°æ®å®Œæ•´ | å±æ€§ã€æŠ€èƒ½ã€Buffå®Œæ•´è¿ç§» |
| å®¢æˆ·ç«¯åˆ‡æ¢ | å®¢æˆ·ç«¯æ— ç¼åˆ‡æ¢DS |
| è½¬ç§»è€—æ—¶ | <500ms |

**æµ‹è¯•ç”¨ä¾‹**:
```
TC-4.1: åŸºç¡€è½¬ç§»
  - ç©å®¶åœ¨Zone(0,0)
  - ç©å®¶è·¨è¶Šåˆ°Zone(1,0)
  - éªŒè¯æƒå¨ä»DS-1è½¬ç§»åˆ°DS-2
  - éªŒè¯å®¢æˆ·ç«¯åˆ‡æ¢è¿æ¥

TC-4.2: çŠ¶æ€ä¿æŒ
  - ç©å®¶æœ‰100HP, 3ä¸ªBuff
  - æ‰§è¡Œè½¬ç§»
  - éªŒè¯è½¬ç§»åHP=100, Buff=3

TC-4.3: æŠ€èƒ½è¿ç»­æ€§
  - ç©å®¶æ­£åœ¨é‡Šæ”¾æŠ€èƒ½
  - æ‰§è¡Œè½¬ç§»
  - éªŒè¯æŠ€èƒ½åœ¨æ–°DSç»§ç»­æ‰§è¡Œ
```

---

## æ¼”ç¤ºåœºæ™¯

### Demo Mapè®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Demo World                          â”‚
â”‚                    4km Ã— 4km                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚                                  â”‚
â”‚    Zone(0,0)        â”‚        Zone(1,0)                â”‚
â”‚    "æ£®æ—åŒº"          â”‚        "æ²™æ¼ åŒº"                  â”‚
â”‚                     â”‚                                  â”‚
â”‚   â”Œâ”€â”€â”€â”            â”Œâ”´â”              â”Œâ”€â”€â”€â”            â”‚
â”‚   â”‚ A â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚Bâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ C â”‚            â”‚
â”‚   â””â”€â”€â”€â”˜  è¾¹ç•Œå¸¦    â””â”¬â”˜    è¾¹ç•Œå¸¦    â””â”€â”€â”€â”˜            â”‚
â”‚   å‡ºç”Ÿç‚¹            â”‚                NPCç‚¹            â”‚
â”‚                     â”‚                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚                                  â”‚
â”‚    Zone(0,1)        â”‚        Zone(1,1)                â”‚
â”‚    "é›ªå±±åŒº"          â”‚        "ç«å±±åŒº"                  â”‚
â”‚                     â”‚                                  â”‚
â”‚   â”Œâ”€â”€â”€â”            â”Œâ”´â”                               â”‚
â”‚   â”‚ D â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚Eâ”‚              Bossç‚¹           â”‚
â”‚   â””â”€â”€â”€â”˜            â””â”€â”˜                               â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

A = ç©å®¶å‡ºç”Ÿç‚¹
B = è¾¹ç•Œäº¤ç•Œå¤„
C = NPCåŒºåŸŸ
D = å‰¯æœ¬å…¥å£
E = å››Zoneäº¤æ±‡ç‚¹(é«˜éš¾åº¦æµ‹è¯•ç‚¹)
```

### æ¼”ç¤ºæµç¨‹

```
1. å±•ç¤ºæ¶æ„
   - å¯åŠ¨æ‰€æœ‰GoæœåŠ¡
   - å¯åŠ¨4ä¸ªDS
   - å±•ç¤ºæœåŠ¡æ³¨å†Œæ—¥å¿—

2. åŸºç¡€è¿æ¥
   - å®¢æˆ·ç«¯è¿æ¥Gateway
   - ç™»å½•å¹¶é€‰æ‹©DS
   - è¿›å…¥Zone(0,0)

3. Ghostæ¼”ç¤º
   - ç©å®¶Aåœ¨Zone(0,0)è¾¹ç•Œ
   - ç©å®¶Båœ¨Zone(1,0)
   - å±•ç¤ºBèƒ½çœ‹åˆ°Açš„Ghost

4. è·¨Zoneè½¬ç§»
   - ç©å®¶Aè·¨è¶Šåˆ°Zone(1,0)
   - å±•ç¤ºæ— ç¼è½¬ç§»
   - å±•ç¤ºå±æ€§ä¿æŒ

5. å››è§’äº¤æ±‡ (é«˜çº§)
   - ç©å®¶ç§»åŠ¨åˆ°Eç‚¹(å››Zoneäº¤æ±‡)
   - å±•ç¤ºåŒæ—¶ä¸4ä¸ªZoneäº¤äº’
```

---

## æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|-------|
| Ghoståˆ›å»ºå»¶è¿Ÿ | <100ms |
| ä½ç½®åŒæ­¥å»¶è¿Ÿ | <50ms |
| æƒå¨è½¬ç§»è€—æ—¶ | <500ms |
| æ¶ˆæ¯ååé‡ | >1000 msg/s |
| DSå•æœºç©å®¶æ•° | >50 |

---

## è‡ªåŠ¨åŒ–æµ‹è¯•

### å•å…ƒæµ‹è¯•

```go
// Goä¾§
func TestServiceAddress_Encode(t *testing.T) { ... }
func TestServiceAddress_Decode(t *testing.T) { ... }
func TestSwitcher_RouteMessage(t *testing.T) { ... }
func TestMaster_LoadBalance(t *testing.T) { ... }
```

```cpp
// UE5ä¾§ (Automation Test)
IMPLEMENT_SIMPLE_AUTOMATION_TEST(FServiceAddressTest, ...)
IMPLEMENT_SIMPLE_AUTOMATION_TEST(FZoneCalculationTest, ...)
```

### é›†æˆæµ‹è¯•è„šæœ¬

```bash
#!/bin/bash
# test_cluster.sh

# å¯åŠ¨æœåŠ¡
./bin/switcher &
./bin/master &

# ç­‰å¾…å¯åŠ¨
sleep 2

# å¯åŠ¨DS
./DS1.sh &
./DS2.sh &

# ç­‰å¾…æ³¨å†Œ
sleep 5

# è¿è¡Œæµ‹è¯•
go test ./tests/integration/...

# æ¸…ç†
pkill -f switcher
pkill -f master
```

---

## è°ƒè¯•å·¥å…·

### Debug HUD

åœ¨DSå’ŒClientä¸Šæ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [DJ01 Debug HUD]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DS: 1-GAS-1 (Zone 0,0)              â”‚
â”‚ Players: 15/100                     â”‚
â”‚ Ghosts: 3                           â”‚
â”‚ Switcher: Connected                 â”‚
â”‚ Latency: 12ms                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Local Player:                       â”‚
â”‚   Pos: (150000, 180000, 0)          â”‚
â”‚   Zone: (0, 0)                      â”‚
â”‚   InBoundary: East                  â”‚
â”‚   Authority: Local                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ—¥å¿—æ ‡ç­¾

```cpp
DEFINE_LOG_CATEGORY(LogDJ01Switcher);
DEFINE_LOG_CATEGORY(LogDJ01Ghost);
DEFINE_LOG_CATEGORY(LogDJ01Zone);
DEFINE_LOG_CATEGORY(LogDJ01Transfer);
```

---

## å¯åŠ¨è„šæœ¬

### Windows

```batch
@echo off
REM start_cluster.bat

echo Starting Switcher...
start "Switcher" cmd /k "cd ServerGo && go run cmd/switcher/main.go"

echo Starting Master...
start "Master" cmd /k "cd ServerGo && go run cmd/master/main.go"

timeout /t 2

echo Starting DS-1 (Zone 0,0)...
start "DS-1" cmd /k "DJ01Server.exe -server -log -Port=7777 -ZoneX=0 -ZoneY=0"

echo Starting DS-2 (Zone 1,0)...
start "DS-2" cmd /k "DJ01Server.exe -server -log -Port=7778 -ZoneX=1 -ZoneY=0"

echo Cluster started!
pause
```

### åœæ­¢è„šæœ¬

```batch
@echo off
REM stop_cluster.bat

taskkill /IM DJ01Server.exe /F
taskkill /IM switcher.exe /F
taskkill /IM master.exe /F

echo Cluster stopped!
```

---

## éªŒæ”¶Checklist

### Phase 1 å®Œæˆæ ‡å‡†
- [ ] Switcherèƒ½å¯åŠ¨å¹¶ç›‘å¬
- [ ] DSèƒ½è¿æ¥Switcher
- [ ] æ¶ˆæ¯èƒ½æ­£ç¡®è·¯ç”±
- [ ] å¿ƒè·³æ­£å¸¸å·¥ä½œ

### Phase 2 å®Œæˆæ ‡å‡†
- [ ] å¤šDSèƒ½æ³¨å†Œåˆ°Master
- [ ] æœåŠ¡å‘ç°è¿”å›æ­£ç¡®ç»“æœ
- [ ] è´Ÿè½½å‡è¡¡ç®—æ³•æ­£ç¡®
- [ ] Zoneæ˜ å°„æ­£ç¡®

### Phase 3 å®Œæˆæ ‡å‡†
- [ ] è¾¹ç•Œæ£€æµ‹æ­£ç¡®
- [ ] Ghostèƒ½åˆ›å»ºå’Œé”€æ¯
- [ ] ä½ç½®åŒæ­¥æµç•…
- [ ] å®¢æˆ·ç«¯èƒ½çœ‹åˆ°Ghost

### Phase 4 å®Œæˆæ ‡å‡†
- [ ] æƒå¨è½¬ç§»æˆåŠŸ
- [ ] çŠ¶æ€å®Œæ•´è¿ç§»
- [ ] å®¢æˆ·ç«¯æ— ç¼åˆ‡æ¢
- [ ] è½¬ç§»è€—æ—¶<500ms

### Demoå®Œæˆæ ‡å‡†
- [ ] 4ä¸ªZoneåŒæ—¶è¿è¡Œ
- [ ] å¤šå®¢æˆ·ç«¯åŒæ—¶è¿æ¥
- [ ] è¾¹ç•Œç©¿è¶Šæ¼”ç¤ºæˆåŠŸ
- [ ] Debug HUDæ˜¾ç¤ºæ­£ç¡®

---

## æ€»ç»“

æœ¬æµ‹è¯•è®¡åˆ’è¦†ç›–äº†ä»åŸºç¡€é€šä¿¡åˆ°å®Œæ•´æ¼”ç¤ºçš„å…¨è¿‡ç¨‹ã€‚å»ºè®®æŒ‰Phaseé¡ºåºé€æ­¥å®ç°å’Œæµ‹è¯•ï¼Œæ¯å®Œæˆä¸€ä¸ªPhaseè¿›è¡ŒéªŒæ”¶åå†è¿›å…¥ä¸‹ä¸€é˜¶æ®µã€‚