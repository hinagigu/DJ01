# 04. åŠ¨ç”»å±‚æ¥å£å®ç°

> **é¢„è®¡è€—æ—¶**: 45 åˆ†é’Ÿ  
> **å‰ç½®æ¡ä»¶**: å·²å®Œæˆ 03_BlendSpaceåˆ›å»ºã€02a_åˆ›å»ºåŠ¨ç”»å±‚æ¥å£

---

## ğŸ¯ æœ¬ç« ç›®æ ‡

åœ¨ä¸»åŠ¨ç”»è“å›¾ä¸­å®ç°åŠ¨ç”»å±‚æ¥å£å‡½æ•°ï¼Œä½¿çŠ¶æ€æœºèƒ½æ­£ç¡®è°ƒç”¨åŠ¨ç”»å±‚ã€‚

---

## ğŸ“š æ¥å£å‡½æ•°ä¸€è§ˆ

### ALI_MeleeAnimLayers (è¿‘æˆ˜åŠ¨ç”»å±‚æ¥å£)

æ¥è‡ª `/Game/Characters/Heroes/HeroAnimations/Interfaces/ALI_MeleeAnimLayers`

| å‡½æ•°å | ç”¨é€” | æ‰€åœ¨çŠ¶æ€ |
|--------|------|---------|
| **Locomotion å±‚** |||
| `Melee_IdleState()` | å¾…æœºåŠ¨ç”» | OnGround.Idle |
| `Melee_MovingState()` | ç§»åŠ¨åŠ¨ç”» | OnGround.Moving |
| `Melee_SprintState()` | å†²åˆºåŠ¨ç”» | OnGround.Sprint |
| **Jump å±‚** |||
| `Melee_JumpStartState()` | èµ·è·³åŠ¨ç”» | InAir.JumpStart |
| `Melee_FallLoopState()` | ä¸‹è½å¾ªç¯ | InAir.FallLoop |
| `Melee_LandState()` | è½åœ°åŠ¨ç”» | InAir.Land |
| **Combat å±‚** |||
| `Melee_BlockState()` | æ ¼æŒ¡åŠ¨ç”» | Combat.Block |
| `Melee_DodgeState()` | é—ªé¿åŠ¨ç”» | Combat.Dodge |
| `Melee_HitReactState()` | å—å‡»åŠ¨ç”» | Combat.HitReact |
| `Melee_KnockdownState()` | å€’åœ°åŠ¨ç”» | Combat.Knockdown |
| `Melee_GetUpState()` | èµ·èº«åŠ¨ç”» | Combat.GetUp |
| **Weapon å±‚** |||
| `Melee_DrawWeaponState()` | æ‹”åˆ€åŠ¨ç”» | Weapon.Draw |
| `Melee_SheathWeaponState()` | æ”¶åˆ€åŠ¨ç”» | Weapon.Sheath |

### ALI_RangedAnimLayers (è¿œç¨‹åŠ¨ç”»å±‚æ¥å£)

æ¥è‡ª `/Game/Characters/Heroes/HeroAnimations/Interfaces/ALI_RangedAnimLayers`

| å‡½æ•°å | ç”¨é€” | æ‰€åœ¨çŠ¶æ€ |
|--------|------|---------|
| **Locomotion å±‚** |||
| `Ranged_IdleState()` | æŒæªå¾…æœº | OnGround.Idle |
| `Ranged_MovingState()` | æŒæªç§»åŠ¨ | OnGround.Moving |
| `Ranged_SprintState()` | æŒæªå†²åˆº | OnGround.Sprint |
| **Aiming å±‚** |||
| `Ranged_AimingIdleState()` | ç„å‡†å¾…æœº | Aiming.Idle |
| `Ranged_AimingMovingState()` | ç„å‡†ç§»åŠ¨ | Aiming.Moving |
| `Ranged_HipfireState()` | è…°å°„ | Aiming.Hipfire |
| **Reload å±‚** |||
| `Ranged_ReloadState()` | æ¢å¼¹åŠ¨ç”» | Action.Reload |

---

## ğŸ—ï¸ æ¥å£è°ƒç”¨åŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸»åŠ¨ç”»è“å›¾ ABP_MainHero                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Implements:                                                â”‚
â”‚    â€¢ ALI_MeleeAnimLayers   (è¿‘æˆ˜æ¥å£)                       â”‚
â”‚    â€¢ ALI_RangedAnimLayers  (è¿œç¨‹æ¥å£)                       â”‚
â”‚                                                              â”‚
â”‚  çŠ¶æ€æœº Idle çŠ¶æ€:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ [Linked Anim Layer:              â”‚                       â”‚
â”‚  â”‚  Melee_IdleState]                â”‚â”€â”€â”€â†’ è°ƒç”¨æ¥å£å‡½æ•°       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  æ¥å£å®ç° (Melee_IdleState):           â† æœ¬ç« è¦å®ç°è¿™ä¸ª!    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ [Input Pose] â”€â”€â†’ [Return Node]   â”‚  â† é»˜è®¤å®ç° (é€ä¼ )    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                              â”‚
â”‚                    æˆ–                                        â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ [Play Unarmed Idle]â”€â”€â†’ [Return]  â”‚  â† æä¾›é»˜è®¤åŠ¨ç”»       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ è¿è¡Œæ—¶: LinkAnimClassLayers(ABP_AnimLayerKatana)
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¦å™¨åŠ¨ç”»å±‚ ABP_AnimLayerKatana                               â”‚
â”‚ (ç»§æ‰¿è‡ª UDJ01MeleeAnimLayerInstance)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Melee_IdleState å®ç°:                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ [Play Katana Idle]â”€â”€â†’ [Return]   â”‚  â† è¦†ç›–ä¸»ABPå®ç°      â”‚
â”‚  â”‚                                   â”‚                       â”‚
â”‚  â”‚ ä½¿ç”¨: AnimConfig.IdleSet.IdleCombat                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                              â”‚
â”‚  Melee_MovingState å®ç°:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ [BS: LocomotionKatana]â”€â”€â†’[Return]â”‚  â† 8æ–¹å‘BlendSpace    â”‚
â”‚  â”‚                                   â”‚                       â”‚
â”‚  â”‚ è¾“å…¥: Direction, Speed           â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®ç‚¹**:
- ä¸» ABP æä¾›**é»˜è®¤å®ç°**ï¼ˆé€šå¸¸æ˜¯ Unarmed åŠ¨ç”»ï¼‰
- æ­¦å™¨åŠ¨ç”»å±‚ç»§æ‰¿è‡ª `UDJ01MeleeAnimLayerInstance` æˆ– `UDJ01RangedAnimLayerInstance`
- åŠ¨ç”»å±‚å¯ä»¥é€šè¿‡ `AnimConfig` å±æ€§é…ç½®åŠ¨ç”»èµ„äº§
- è¿è¡Œæ—¶é€šè¿‡ `LinkAnimClassLayers` åˆ‡æ¢

---

## ğŸ“ å®ç°æ­¥éª¤

### Step 1: æ‰“å¼€æ¥å£å‡½æ•°

1. æ‰“å¼€ `ABP_MainHero` (ä¸»åŠ¨ç”»è“å›¾)
   ```
   /Game/Characters/Heroes/HeroAnimations/ABP_MainHero
   ```

2. åœ¨ My Blueprint é¢æ¿æ‰¾åˆ°æ¥å£å‡½æ•°:
   ```
   Interfaces
   â”œâ”€â”€ ALI_MeleeAnimLayers
   â”‚   â”œâ”€â”€ Melee_IdleState         â† åŒå‡»æ‰“å¼€
   â”‚   â”œâ”€â”€ Melee_MovingState
   â”‚   â”œâ”€â”€ Melee_SprintState
   â”‚   â”œâ”€â”€ Melee_JumpStartState
   â”‚   â”œâ”€â”€ Melee_FallLoopState
   â”‚   â”œâ”€â”€ Melee_LandState
   â”‚   â”œâ”€â”€ Melee_BlockState
   â”‚   â”œâ”€â”€ Melee_DodgeState
   â”‚   â”œâ”€â”€ Melee_HitReactState
   â”‚   â”œâ”€â”€ Melee_KnockdownState
   â”‚   â”œâ”€â”€ Melee_GetUpState
   â”‚   â”œâ”€â”€ Melee_DrawWeaponState
   â”‚   â””â”€â”€ Melee_SheathWeaponState
   â”‚
   â””â”€â”€ ALI_RangedAnimLayers
       â”œâ”€â”€ Ranged_IdleState
       â”œâ”€â”€ Ranged_MovingState
       â””â”€â”€ ... (å…¶ä»–è¿œç¨‹æ¥å£)
   ```

3. åŒå‡» `Melee_IdleState` æ‰“å¼€å®ç°å›¾è¡¨

---

### Step 2: å®ç° Melee_IdleState (å¾…æœº)

**æ–¹æ¡ˆ A: é€ä¼ æ¨¡å¼ (ä¸» ABP ä¸æä¾›é»˜è®¤åŠ¨ç”»)**

```
[Input Pose] â”€â”€â†’ [Return Node]
```

**æ–¹æ¡ˆ B: æä¾›é»˜è®¤ Unarmed å¾…æœºåŠ¨ç”» (æ¨è)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Melee_IdleState å®ç°                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  [Play: MM_Unarmed_Idle_Ready]          â”‚
â”‚         â”‚                                â”‚
â”‚         â”‚ Loop: true                     â”‚
â”‚         â”‚                                â”‚
â”‚         â–¼                                â”‚
â”‚  [Return Node]                          â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠ¨ç”»è·¯å¾„**: `/Game/Characters/Heroes/Mannequin_Mesh/Animations/Locomotion/Unarmed/MM_Unarmed_Idle_Ready`

---

### Step 3: å®ç° Melee_MovingState (ç§»åŠ¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Melee_MovingState å®ç°                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  [BlendSpace: LocomotionUnarm]          â”‚
â”‚         â”‚                                â”‚
â”‚         â”‚ X (Direction) â† MoveDirection â”‚
â”‚         â”‚ Y (Speed) â† GroundSpeed       â”‚
â”‚         â”‚                                â”‚
â”‚         â–¼                                â”‚
â”‚  [Return Node]                          â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**BlendSpace è·¯å¾„**: `/Game/Characters/Heroes/HeroAnimations/BlandSpaces/LocomotionUnarm`

**èŠ‚ç‚¹è¿æ¥**:
1. å³é”® â†’ æœç´¢ `BlendSpace Player`
2. é€‰æ‹© `LocomotionUnarm`
3. è¿æ¥è¾“å…¥:
   - `X (Direction)` â† ä»çˆ¶ç±»è·å– `MoveDirection` å˜é‡
   - `Y (Speed)` â† ä»çˆ¶ç±»è·å– `GroundSpeed` å˜é‡
4. è¾“å‡ºè¿æ¥åˆ° Return Node

> ğŸ’¡ **æç¤º**: å˜é‡æ¥è‡ª C++ çˆ¶ç±» `UDJ01AnimInstance`ï¼Œå¯åœ¨è“å›¾ä¸­ç›´æ¥è®¿é—®

---

### Step 4: å®ç° Melee_SprintState (å†²åˆº)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Melee_SprintState å®ç°                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  [Play: MM_Unarmed_Jog_Fwd]             â”‚
â”‚         â”‚                                â”‚
â”‚         â”‚ Loop: true                     â”‚
â”‚         â”‚ Play Rate: 1.2                â”‚
â”‚         â”‚                                â”‚
â”‚         â–¼                                â”‚
â”‚  [Return Node]                          â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

æˆ–è€…ä½¿ç”¨æ›´å¿«çš„ Run åŠ¨ç”»ï¼Œå¦‚æœæœ‰çš„è¯ã€‚

---

### Step 5: å®ç° Melee_JumpStartState (èµ·è·³)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Melee_JumpStartState å®ç°              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  [Play: MM_Unarmed_Jump_Start]          â”‚
â”‚         â”‚                                â”‚
â”‚         â”‚                                â”‚
â”‚         â–¼                                â”‚
â”‚  [Return Node]                          â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠ¨ç”»è·¯å¾„**: `/Game/Characters/Heroes/Mannequin_Mesh/Animations/Locomotion/Unarmed/MM_Unarmed_Jump_Start`

---

### Step 6: å®ç° Melee_FallLoopState (ä¸‹è½å¾ªç¯)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Melee_FallLoopState å®ç°               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  [Play: MM_Unarmed_Jump_Fall_Loop]      â”‚
â”‚         â”‚                                â”‚
â”‚         â”‚ Loop: true                     â”‚
â”‚         â”‚                                â”‚
â”‚         â–¼                                â”‚
â”‚  [Return Node]                          â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Step 7: å®ç° Melee_LandState (è½åœ°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Melee_LandState å®ç°                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  [Play: MM_Unarmed_Jump_Fall_Land]      â”‚
â”‚         â”‚                                â”‚
â”‚         â”‚                                â”‚
â”‚         â–¼                                â”‚
â”‚  [Return Node]                          â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Step 8: å®ç° Combat ç›¸å…³çŠ¶æ€ (å¯é€‰)

æš‚æ—¶ä½¿ç”¨é€ä¼ ï¼Œåç»­å¯ä»¥æ·»åŠ å…·ä½“å®ç°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Melee_BlockState / HitReactState ç­‰    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  [Input Pose] â”€â”€â†’ [Return Node]         â”‚
â”‚                                          â”‚
â”‚  (æš‚æ—¶é€ä¼ ï¼Œåç»­æ·»åŠ å…·ä½“åŠ¨ç”»)             â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ åœ¨çŠ¶æ€æœºä¸­ä½¿ç”¨æ¥å£

å›åˆ° AnimGraph â†’ LocomotionSM â†’ OnGround â†’ Idle çŠ¶æ€ï¼š

**ä¿®æ”¹ Idle çŠ¶æ€**:

```
ä¹‹å‰: [Play Animation] â”€â”€â†’ [Output Pose]

ç°åœ¨: [Linked Anim Layer: Melee_IdleState] â”€â”€â†’ [Output Pose]
```

**å¦‚ä½•æ·»åŠ  Linked Anim Layer èŠ‚ç‚¹**:
1. åœ¨çŠ¶æ€å›¾è¡¨ä¸­å³é”®
2. æœç´¢ `Linked Anim Layer`
3. é€‰æ‹© `Melee_IdleState`ï¼ˆä» ALI_MeleeAnimLayers æ¥å£ï¼‰
4. è¿æ¥åˆ° Output Animation Pose

**åŒæ ·ä¿®æ”¹å…¶ä»–çŠ¶æ€**:

| çŠ¶æ€ | ä½¿ç”¨çš„æ¥å£å‡½æ•° |
|------|---------------|
| Idle | `Melee_IdleState` |
| Moving | `Melee_MovingState` |
| Sprint | `Melee_SprintState` |
| JumpStart | `Melee_JumpStartState` |
| FallLoop | `Melee_FallLoopState` |
| Land | `Melee_LandState` |

---

## ğŸ“Š å®Œæ•´çš„æ¥å£å®ç°ç¤ºæ„å›¾

```
ABP_MainHero (ä¸»åŠ¨ç”»è“å›¾)
â”œâ”€â”€ AnimGraph
â”‚   â””â”€â”€ LocomotionSM
â”‚       â”œâ”€â”€ OnGround
â”‚       â”‚   â”œâ”€â”€ Idle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [Linked: Melee_IdleState]
â”‚       â”‚   â”œâ”€â”€ Moving â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [Linked: Melee_MovingState]
â”‚       â”‚   â””â”€â”€ Sprint â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [Linked: Melee_SprintState]
â”‚       â””â”€â”€ InAir
â”‚           â”œâ”€â”€ JumpStart â”€â”€â”€â”€â”€â”€â”€â†’ [Linked: Melee_JumpStartState]
â”‚           â”œâ”€â”€ FallLoop â”€â”€â”€â”€â”€â”€â”€â”€â†’ [Linked: Melee_FallLoopState]
â”‚           â””â”€â”€ Land â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [Linked: Melee_LandState]
â”‚
â”œâ”€â”€ Interface Implementations (ALI_MeleeAnimLayers)
â”‚   â”œâ”€â”€ Melee_IdleState â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [Play: MM_Unarmed_Idle_Ready]
â”‚   â”œâ”€â”€ Melee_MovingState â”€â”€â”€â”€â”€â”€â”€â†’ [BS: LocomotionUnarm]
â”‚   â”œâ”€â”€ Melee_SprintState â”€â”€â”€â”€â”€â”€â”€â†’ [Play: MM_Unarmed_Jog_Fwd @ 1.2x]
â”‚   â”œâ”€â”€ Melee_JumpStartState â”€â”€â”€â”€â†’ [Play: MM_Unarmed_Jump_Start]
â”‚   â”œâ”€â”€ Melee_FallLoopState â”€â”€â”€â”€â”€â†’ [Play: MM_Unarmed_Jump_Fall_Loop]
â”‚   â”œâ”€â”€ Melee_LandState â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [Play: MM_Unarmed_Jump_Fall_Land]
â”‚   â”œâ”€â”€ Melee_BlockState â”€â”€â”€â”€â”€â”€â”€â”€â†’ [Input Pose] (å¾…å®ç°)
â”‚   â”œâ”€â”€ Melee_DodgeState â”€â”€â”€â”€â”€â”€â”€â”€â†’ [Input Pose] (å¾…å®ç°)
â”‚   â”œâ”€â”€ Melee_HitReactState â”€â”€â”€â”€â”€â†’ [Input Pose] (å¾…å®ç°)
â”‚   â””â”€â”€ ... (å…¶ä»–CombatçŠ¶æ€)
```

---

## ğŸ§ª æµ‹è¯•

1. **ç¼–è¯‘ä¿å­˜** ABP_MainHero

2. **PIE è¿è¡Œ**

3. **éªŒè¯**:
   - Idle çŠ¶æ€æ’­æ”¾ Unarmed å¾…æœºåŠ¨ç”»
   - ç§»åŠ¨æ—¶ BlendSpace æ­£å¸¸å·¥ä½œï¼ˆ4æ–¹å‘æ··åˆï¼‰
   - è·³è·ƒ/è½åœ°åŠ¨ç”»æ­£å¸¸

4. **å¦‚æœåŠ¨ç”»ä¸æ’­æ”¾**:
   - æ£€æŸ¥æ¥å£å®ç°æ˜¯å¦æ­£ç¡®è¿æ¥ Return Node
   - ç¡®è®¤çŠ¶æ€æœºä½¿ç”¨äº† Linked Anim Layer èŠ‚ç‚¹
   - æ£€æŸ¥åŠ¨ç”»èµ„äº§è·¯å¾„æ˜¯å¦æ­£ç¡®

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] å®ç°äº† `Melee_IdleState` (é»˜è®¤ Unarmed Idle)
- [ ] å®ç°äº† `Melee_MovingState` (ä½¿ç”¨ LocomotionUnarm BlendSpace)
- [ ] å®ç°äº† `Melee_SprintState`
- [ ] å®ç°äº† `Melee_JumpStartState`
- [ ] å®ç°äº† `Melee_FallLoopState`
- [ ] å®ç°äº† `Melee_LandState`
- [ ] Combat ç›¸å…³çŠ¶æ€æš‚æ—¶é€ä¼ 
- [ ] çŠ¶æ€æœºä¸­ä½¿ç”¨äº† Linked Anim Layer èŠ‚ç‚¹
- [ ] PIE æµ‹è¯•æ‰€æœ‰åŠ¨ç”»æ­£å¸¸

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q: Linked Anim Layer èŠ‚ç‚¹æ‰§è¡Œåæ²¡æœ‰åŠ¨ç”»ï¼Ÿ

**A**: 
1. æ£€æŸ¥æ¥å£å®ç°æ˜¯å¦æ­£ç¡®è¿”å› Pose
2. ç¡®ä¿åŠ¨ç”»èµ„äº§æœ‰æ•ˆ
3. å°è¯•æ·»åŠ ä¸€ä¸ª Input Pose èŠ‚ç‚¹ä½œä¸ºåå¤‡

### Q: æ¥å£å‡½æ•°æ²¡æœ‰å‡ºç°åœ¨ My Blueprintï¼Ÿ

**A**:
1. ç¡®ä¿ Class Settings ä¸­æ·»åŠ äº†æ¥å£ (`ALI_MeleeAnimLayers`)
2. ç¼–è¯‘è“å›¾
3. æ¥å£å‡½æ•°åº”è¯¥å‡ºç°åœ¨ Interfaces åˆ†ç±»ä¸‹

### Q: æœç´¢ Linked Anim Layer ä½†åˆ—è¡¨ä¸ºç©ºï¼Ÿ

**A**: 
1. ç¡®ä¿æ¥å£æ˜¯ **Animation Layer Interface** ç±»å‹
2. å·²åœ¨ Class Settings â†’ Interfaces ä¸­æ·»åŠ 
3. å·²ç¼–è¯‘å¹¶ä¿å­˜

### Q: BlendSpace çš„å˜é‡ä»å“ªé‡Œæ¥ï¼Ÿ

**A**: 
å˜é‡å®šä¹‰åœ¨ C++ çˆ¶ç±» `UDJ01AnimInstance` ä¸­ï¼š
- `GroundSpeed` - è§’è‰²åœ°é¢é€Ÿåº¦
- `MoveDirection` - ç§»åŠ¨æ–¹å‘è§’åº¦ (-180 ~ 180)

åœ¨è“å›¾ä¸­å¯ä»¥ç›´æ¥é€šè¿‡ Get èŠ‚ç‚¹è®¿é—®è¿™äº›å˜é‡ã€‚

---

## ğŸ”— ç›¸å…³èµ„äº§è·¯å¾„

| èµ„äº§ | è·¯å¾„ |
|------|------|
| ä¸» ABP | `/Game/Characters/Heroes/HeroAnimations/ABP_MainHero` |
| Unarmed åŠ¨ç”»å±‚ | `/Game/Characters/Heroes/HeroAnimations/Animlayers/ABP_AnimLayerUnarm` |
| Katana åŠ¨ç”»å±‚ | `/Game/Characters/Heroes/HeroAnimations/Animlayers/ABP_AnimLayerKatana` |
| è¿‘æˆ˜æ¥å£ | `/Game/Characters/Heroes/HeroAnimations/Interfaces/ALI_MeleeAnimLayers` |
| è¿œç¨‹æ¥å£ | `/Game/Characters/Heroes/HeroAnimations/Interfaces/ALI_RangedAnimLayers` |
| Unarmed BlendSpace | `/Game/Characters/Heroes/HeroAnimations/BlandSpaces/LocomotionUnarm` |
| Katana BlendSpace | `/Game/Characters/Heroes/HeroAnimations/BlandSpaces/LocomotionKatana` |

---

## ğŸ“ ä¸‹ä¸€æ­¥

æ¥å£å®ç°å®Œæˆï¼ç°åœ¨ä¸» ABP å¯ä»¥ç‹¬ç«‹å·¥ä½œï¼ˆä½¿ç”¨ Unarmed åŠ¨ç”»ï¼‰ã€‚æ¥ä¸‹æ¥åˆ›å»ºæ­¦å™¨åŠ¨ç”»å±‚ï¼Œå®ç° Katana ä¸“å±åŠ¨ç”»ã€‚

ğŸ‘‰ **[è¿›å…¥ç¬¬äº”ç« ï¼šæ­¦å™¨åŠ¨ç”»å±‚åˆ›å»º](./05_æ­¦å™¨åŠ¨ç”»å±‚åˆ›å»º.md)**