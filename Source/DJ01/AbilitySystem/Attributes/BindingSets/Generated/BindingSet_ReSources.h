// Auto-generated by DJ01 BindingSet Generator
// Generated at: 2025-12-30 20:12:06
// BindingSet: ReSources
// Description: ReSources 绑定集
//
// Tag Bindings: 0
// Attribute Bindings: 2
//
// DO NOT MODIFY THIS FILE MANUALLY!

#pragma once

#include "AbilitySystemComponent.h"
#include "DJ01/AbilitySystem/Attributes/Public/DJ01GeneratedAttributes.h"

// ============================================================
// 变量声明宏 - 放在类定义中 (AnimInstance, Widget, etc.)
// ============================================================
#define DJ01_BINDING_SET_RE_SOURCES_VARS() \
	TWeakObjectPtr<UAbilitySystemComponent> BindingSet_ReSources_ASC; \
	UPROPERTY(BlueprintReadOnly, Category = "Bindings|Attributes|ReSources") \
	float CurrentHealth = 0.0f; \
	UPROPERTY(BlueprintReadOnly, Category = "Bindings|Attributes|ReSources") \
	float PercentHealth = 0.0f; \
	UPROPERTY(BlueprintReadOnly, Category = "Bindings|Attributes|ReSources") \
	float MaxHealth = 0.0f; \
	UPROPERTY(BlueprintReadOnly, Category = "Bindings|Attributes|ReSources") \
	float CurrentMana = 0.0f; \
	UPROPERTY(BlueprintReadOnly, Category = "Bindings|Attributes|ReSources") \
	float PercentMana = 0.0f; \
	UPROPERTY(BlueprintReadOnly, Category = "Bindings|Attributes|ReSources") \
	float MaxMana = 0.0f;

// ============================================================
// 回调函数宏 - 内部使用
// ============================================================
#define DJ01_BINDING_SET_RE_SOURCES_CALLBACKS() \
	void OnHealthChanged(const FOnAttributeChangeData& Data) { CurrentHealth = Data.NewValue; } \
	void OnPercentHealthChanged(const FOnAttributeChangeData& Data) { PercentHealth = Data.NewValue; } \
	void OnMaxHealthChanged(const FOnAttributeChangeData& Data) { if (auto* ASC = BindingSet_ReSources_ASC.Get()) { if (auto* Set = ASC->GetSet<UDJ01ResourceSet>()) { MaxHealth = Set->GetTotalMaxHealth(); } } } \
	void OnManaChanged(const FOnAttributeChangeData& Data) { CurrentMana = Data.NewValue; } \
	void OnPercentManaChanged(const FOnAttributeChangeData& Data) { PercentMana = Data.NewValue; } \
	void OnMaxManaChanged(const FOnAttributeChangeData& Data) { if (auto* ASC = BindingSet_ReSources_ASC.Get()) { if (auto* Set = ASC->GetSet<UDJ01ResourceSet>()) { MaxMana = Set->GetTotalMaxMana(); } } }

// ============================================================
// 注册监听宏 - 在获得 ASC 引用后调用
// ============================================================
#define DJ01_BINDING_SET_RE_SOURCES_REGISTER(InASC) \
	InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetHealthAttribute()).AddUObject(this, &ThisClass::OnHealthChanged); \
	InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetPercentHealthAttribute()).AddUObject(this, &ThisClass::OnPercentHealthChanged); \
	InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetBaseMaxHealthAttribute()).AddUObject(this, &ThisClass::OnMaxHealthChanged); \
	InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetFlatMaxHealthAttribute()).AddUObject(this, &ThisClass::OnMaxHealthChanged); \
	InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetPercentMaxHealthAttribute()).AddUObject(this, &ThisClass::OnMaxHealthChanged); \
	InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetManaAttribute()).AddUObject(this, &ThisClass::OnManaChanged); \
	InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetPercentManaAttribute()).AddUObject(this, &ThisClass::OnPercentManaChanged); \
	InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetBaseMaxManaAttribute()).AddUObject(this, &ThisClass::OnMaxManaChanged); \
	InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetFlatMaxManaAttribute()).AddUObject(this, &ThisClass::OnMaxManaChanged); \
	InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetPercentMaxManaAttribute()).AddUObject(this, &ThisClass::OnMaxManaChanged);

// ============================================================
// 解除注册宏 - 在清理时调用
// ============================================================
#define DJ01_BINDING_SET_RE_SOURCES_UNREGISTER(InASC) \
	if (InASC) { \
		InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetHealthAttribute()).RemoveAll(this); \
		InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetPercentHealthAttribute()).RemoveAll(this); \
		InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetBaseMaxHealthAttribute()).RemoveAll(this); \
		InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetFlatMaxHealthAttribute()).RemoveAll(this); \
		InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetPercentMaxHealthAttribute()).RemoveAll(this); \
		InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetManaAttribute()).RemoveAll(this); \
		InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetPercentManaAttribute()).RemoveAll(this); \
		InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetBaseMaxManaAttribute()).RemoveAll(this); \
		InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetFlatMaxManaAttribute()).RemoveAll(this); \
		InASC->GetGameplayAttributeValueChangeDelegate(UDJ01ResourceSet::GetPercentMaxManaAttribute()).RemoveAll(this); \
	}

// ============================================================
// 初始化值宏 - 内部使用
// ============================================================
#define DJ01_BINDING_SET_RE_SOURCES_INIT_VALUES(ASC) \
	CurrentHealth = InASC->GetNumericAttribute(UDJ01ResourceSet::GetHealthAttribute()); \
	PercentHealth = InASC->GetNumericAttribute(UDJ01ResourceSet::GetPercentHealthAttribute()); \
	MaxHealth = Cast<UDJ01ResourceSet>(InASC->GetAttributeSet(UDJ01ResourceSet::StaticClass()))->GetTotalMaxHealth(); \
	CurrentMana = InASC->GetNumericAttribute(UDJ01ResourceSet::GetManaAttribute()); \
	PercentMana = InASC->GetNumericAttribute(UDJ01ResourceSet::GetPercentManaAttribute()); \
	MaxMana = Cast<UDJ01ResourceSet>(InASC->GetAttributeSet(UDJ01ResourceSet::StaticClass()))->GetTotalMaxMana();

// ============================================================
// 初始化函数 - 蓝图可调用！
// ============================================================
#define DJ01_BINDING_SET_RE_SOURCES_INIT_FUNC() \
	UFUNCTION(BlueprintCallable, Category = "GAS|BindingSet|ReSources") \
	void InitBindingSet_ReSources(UAbilitySystemComponent* InASC) \
	{ \
		if (!InASC) return; \
		BindingSet_ReSources_ASC = InASC; \
		DJ01_BINDING_SET_RE_SOURCES_REGISTER(InASC) \
		DJ01_BINDING_SET_RE_SOURCES_INIT_VALUES(InASC) \
	}

// ============================================================
// 清理函数 - 蓝图可调用！
// ============================================================
#define DJ01_BINDING_SET_RE_SOURCES_CLEANUP_FUNC() \
	UFUNCTION(BlueprintCallable, Category = "GAS|BindingSet|ReSources") \
	void CleanupBindingSet_ReSources(UAbilitySystemComponent* InASC) \
	{ \
		DJ01_BINDING_SET_RE_SOURCES_UNREGISTER(InASC) \
		BindingSet_ReSources_ASC.Reset(); \
	}
