{
  "name": "UDJ01GameplayAbility",
  "inherits": "UGameplayAbility",
  "doc": "UDJ01GameplayAbility\n\n    The base gameplay ability class used by this project.",
  "properties": {
    "ActivationPolicy": [
      "EDJ01AbilityActivationPolicy",
      "Defines how this ability is meant to activate."
    ],
    "ActivationGroup": [
      "EDJ01AbilityActivationGroup",
      "Defines the relationship between this ability activating and other abilities activating."
    ],
    "AdditionalCosts": [
      "TArray<TObjectPtr<UDJ01AbilityCost>>",
      2,
      "Additional costs that must be paid to activate this ability"
    ],
    "FailureTagToUserFacingMessages": [
      "TMap<FGameplayTag,FText>",
      2,
      "Map of failure tags to simple error messages"
    ],
    "FailureTagToAnimMontage": [
      "TMap<FGameplayTag,TObjectPtr<UAnimMontage>>",
      2,
      "Map of failure tags to anim montages that should be played with them"
    ],
    "bLogCancelation": [
      "bool",
      2,
      "If true, extra information should be logged when this ability is canceled. This is temporary, used for tracking a bug."
    ],
    "bUsePhaseStateMachine": [
      "bool",
      "是否使用阶段状态机（禁用后需要手动管理阶段）"
    ],
    "PhaseConfig": [
      "FDJ01AbilityPhaseConfig",
      "阶段配置"
    ],
    "Effects": [
      "TArray<FDJ01AbilityEffectEntry>",
      "效果列表\n每个效果绑定到特定的触发阶段"
    ]
  },
  "methods": [
    {
      "name": "CanChangeActivationGroup",
      "return": "bool",
      "const": true,
      "doc": "Returns true if the requested activation group is a valid transition.",
      "ufunction": true,
      "meta": null,
      "args": [
        {
          "name": "NewGroup",
          "type": "EDJ01AbilityActivationGroup"
        }
      ]
    },
    {
      "name": "CanCurrentPhaseBeInterrupted",
      "return": "bool",
      "const": true,
      "doc": "当前阶段是否可被打断",
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "CanCurrentPhaseCancelInto",
      "return": "bool",
      "const": true,
      "doc": "当前阶段是否可取消到其他技能",
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "ChangeActivationGroup",
      "return": "bool",
      "doc": "Tries to change the activation group.  Returns true if it successfully changed.",
      "ufunction": true,
      "meta": null,
      "args": [
        {
          "name": "NewGroup",
          "type": "EDJ01AbilityActivationGroup"
        }
      ]
    },
    {
      "name": "ClearCameraMode",
      "return": "void",
      "doc": "Clears the ability's camera mode.  Automatically called if needed when the ability ends.",
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "GetControllerFromActorInfo",
      "return": "AController",
      "const": true,
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "GetCurrentPhase",
      "return": "EDJ01AbilityPhase",
      "const": true,
      "doc": "获取当前阶段",
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "GetCurrentPhaseRemainingTime",
      "return": "float32",
      "const": true,
      "doc": "获取当前阶段剩余时间",
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "GetDJ01AbilitySystemComponentFromActorInfo",
      "return": "UDJ01AbilitySystemComponent",
      "const": true,
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "GetDJ01CharacterFromActorInfo",
      "return": "ADJ01Character",
      "const": true,
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "GetDJ01PlayerControllerFromActorInfo",
      "return": "ADJ01PlayerController",
      "const": true,
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "GetHeroComponentFromActorInfo",
      "return": "UDJ01HeroComponent",
      "const": true,
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "GetPhaseStateMachine",
      "return": "UDJ01AbilityPhaseStateMachine",
      "const": true,
      "doc": "获取阶段状态机",
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "OnAbilityAdded",
      "return": "void",
      "callable": false,
      "doc": "Called when this ability is granted to the ability system component.",
      "event": true,
      "unrealname": "K2_OnAbilityAdded",
      "meta": null,
      "args": []
    },
    {
      "name": "OnAbilityRemoved",
      "return": "void",
      "callable": false,
      "doc": "Called when this ability is removed from the ability system component.",
      "event": true,
      "unrealname": "K2_OnAbilityRemoved",
      "meta": null,
      "args": []
    },
    {
      "name": "OnPawnAvatarSet",
      "return": "void",
      "callable": false,
      "doc": "Called when the ability system is initialized with a pawn avatar.",
      "event": true,
      "unrealname": "K2_OnPawnAvatarSet",
      "meta": null,
      "args": []
    },
    {
      "name": "OnPhaseEnter",
      "return": "void",
      "callable": false,
      "doc": "阶段进入回调 - 子类可重写",
      "event": true,
      "meta": null,
      "args": [
        {
          "name": "Phase",
          "type": "EDJ01AbilityPhase"
        }
      ]
    },
    {
      "name": "OnPhaseExit",
      "return": "void",
      "callable": false,
      "doc": "阶段退出回调 - 子类可重写",
      "event": true,
      "meta": null,
      "args": [
        {
          "name": "Phase",
          "type": "EDJ01AbilityPhase"
        }
      ]
    },
    {
      "name": "ScriptOnAbilityFailedToActivate",
      "return": "void",
      "const": true,
      "callable": false,
      "doc": "Called when the ability fails to activate",
      "event": true,
      "meta": null,
      "args": [
        {
          "name": "FailedReason",
          "type": "FGameplayTagContainer"
        }
      ]
    },
    {
      "name": "SetCameraMode",
      "return": "void",
      "doc": "Sets the ability's camera mode.",
      "ufunction": true,
      "meta": null,
      "args": [
        {
          "name": "CameraMode",
          "type": "TSubclassOf<UDJ01CameraMode>"
        }
      ]
    },
    {
      "name": "SkipCurrentPhase",
      "return": "void",
      "doc": "跳过当前阶段（立即进入下一阶段）",
      "ufunction": true,
      "meta": null,
      "args": []
    },
    {
      "name": "TransitionToPhase",
      "return": "bool",
      "doc": "切换到指定阶段",
      "ufunction": true,
      "meta": null,
      "args": [
        {
          "name": "NewPhase",
          "type": "EDJ01AbilityPhase"
        },
        {
          "name": "bForce",
          "default": "false",
          "type": "bool"
        }
      ]
    },
    {
      "name": "TriggerEffects",
      "return": "void",
      "doc": "触发指定阶段的所有效果\n@param Phase - 触发阶段\n@param Targets - 目标 Actor 列表",
      "ufunction": true,
      "meta": null,
      "args": [
        {
          "name": "Phase",
          "type": "EDJ01EffectPhase"
        },
        {
          "name": "Targets",
          "type": "TArray<AActor>"
        }
      ]
    },
    {
      "name": "TriggerEffectsByEvent",
      "return": "void",
      "doc": "触发动画事件效果\n@param EventTag - 动画事件 Tag\n@param Targets - 目标 Actor 列表",
      "ufunction": true,
      "meta": null,
      "args": [
        {
          "name": "EventTag",
          "type": "FGameplayTag"
        },
        {
          "name": "Targets",
          "type": "TArray<AActor>"
        }
      ]
    }
  ]
}