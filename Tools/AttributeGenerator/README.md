# DJ01 GAS ä»£ç ç”Ÿæˆå™¨ ä½¿ç”¨æ‰‹å†Œ

> **ç‰ˆæœ¬**: 1.0  
> **é€‚ç”¨é¡¹ç›®**: DJ01 (UE5 + GAS)  
> **åŠŸèƒ½**: é€šè¿‡å¯è§†åŒ–ç•Œé¢é…ç½®å±æ€§ã€GameplayTags å’Œ Executionï¼Œè‡ªåŠ¨ç”Ÿæˆ C++ ä»£ç 

---

## ç›®å½•

1. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
2. [å±æ€§ç¼–è¾‘å™¨](#ä¸€-å±æ€§ç¼–è¾‘å™¨)
3. [GameplayTags ç¼–è¾‘å™¨](#äºŒ-gameplaytags-ç¼–è¾‘å™¨)
4. [Execution ç¼–è¾‘å™¨](#ä¸‰-execution-ç¼–è¾‘å™¨)
5. [å¿«æ·é”®](#å¿«æ·é”®)
6. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## å¿«é€Ÿå¼€å§‹

### å¯åŠ¨æ–¹å¼

**æ–¹å¼ä¸€ï¼šPython è„šæœ¬**
```bash
cd d:\UnrealProjects\DJ01\Tools\AttributeGenerator
python main.py
```

**æ–¹å¼äºŒï¼šæ‰“åŒ…çš„ EXE**
```bash
cd d:\UnrealProjects\DJ01\Tools\AttributeGenerator
build_exe.bat
# ç”Ÿæˆçš„ exe åœ¨ dist ç›®å½•
```

### ç•Œé¢æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š å±æ€§ç¼–è¾‘å™¨ â”‚ ğŸ“„ å±æ€§é¢„è§ˆ â”‚ âš¡ Execution â”‚ ğŸ“„ Execé¢„è§ˆ â”‚ ğŸ·ï¸ Tags â”‚ ğŸ“„ Tagsé¢„è§ˆ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸€ã€å±æ€§ç¼–è¾‘å™¨

### 1.1 æ¦‚å¿µè¯´æ˜

å±æ€§ç³»ç»Ÿé‡‡ç”¨**ä¸‰å±‚æ¶æ„**ï¼Œæ”¯æŒçµæ´»çš„æ•°å€¼è®¡ç®—ï¼š

| ç±»å‹ | ç”Ÿæˆçš„å±æ€§ | è®¡ç®—å…¬å¼ | é€‚ç”¨åœºæ™¯ |
|------|-----------|---------|---------|
| **Layered** | Base + Flat + Percent | `(Base + Flat) Ã— (1 + Percent)` | æ”»å‡»åŠ›ã€é˜²å¾¡åŠ›ç­‰æˆ˜æ–—å±æ€§ |
| **Simple** | å•ä¸€å€¼ | ç›´æ¥ä½¿ç”¨ | å½“å‰ç”Ÿå‘½å€¼ã€ç»éªŒå€¼ç­‰ |
| **Resource** | Max (Layered) + Current (Simple) | Max è®¡ç®—åä½œä¸ºä¸Šé™ | ç”Ÿå‘½å€¼ã€é­”æ³•å€¼ã€è€åŠ›ç­‰èµ„æº |
| **Meta** | ä¸´æ—¶å€¼ | ä»…ç”¨äº Execution è®¡ç®— | ä¼¤å®³ä¼ é€’ã€ä¸´æ—¶ä¿®æ­£ |

### 1.2 ç•Œé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å±æ€§é›†     â”‚  â”‚          å±æ€§åˆ—è¡¨               â”‚  â”‚   ç¼–è¾‘å±æ€§     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ StatSet (5)  â”‚  â”‚ Name     â”‚ Type    â”‚ Base â”‚ ... â”‚  â”‚ å±æ€§å: Attack â”‚
â”‚ CombatSet(3) â”‚  â”‚ Attack   â”‚ Layered â”‚ 100  â”‚     â”‚  â”‚ ç±»å‹: Layered  â”‚
â”‚              â”‚  â”‚ Defense  â”‚ Layered â”‚ 50   â”‚     â”‚  â”‚ åˆ†ç±»: Combat   â”‚
â”‚              â”‚  â”‚ Health   â”‚ Resourceâ”‚ 1000 â”‚     â”‚  â”‚ Base: 100      â”‚
â”‚              â”‚  â”‚          â”‚         â”‚      â”‚     â”‚  â”‚ Flat: 0        â”‚
â”‚              â”‚  â”‚          â”‚         â”‚      â”‚     â”‚  â”‚ Percent: 0     â”‚
â”‚ [+æ–°å»º][-åˆ é™¤]â”‚  â”‚                               â”‚  â”‚ æè¿°: æ”»å‡»åŠ›   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  [+ æ·»åŠ å±æ€§] [- åˆ é™¤å±æ€§]    [ä¿å­˜é…ç½®] [é‡æ–°åŠ è½½] [ç”Ÿæˆä»£ç ]
```

### 1.3 æ“ä½œæµç¨‹

#### åˆ›å»ºå±æ€§é›†
1. ç‚¹å‡»å·¦ä¾§ **[+ æ–°å»º]** æŒ‰é’®
2. è¾“å…¥å±æ€§é›†åç§°ï¼ˆå¦‚ `StatSet`ã€`CombatSet`ï¼‰
3. ç”Ÿæˆçš„ç±»åå°†æ˜¯ `UDJ01StatSet`ã€`UDJ01CombatSet`

#### æ·»åŠ å±æ€§
1. é€‰æ‹©å·¦ä¾§çš„å±æ€§é›†
2. ç‚¹å‡» **[+ æ·»åŠ å±æ€§]**
3. åœ¨å³ä¾§é¢æ¿ç¼–è¾‘å±æ€§ä¿¡æ¯ï¼š
   - **å±æ€§å**: å¦‚ `Attack`ï¼ˆä¸è¦åŠ å‰ç¼€ï¼‰
   - **ç±»å‹**: é€‰æ‹© Layered / Simple / Resource / Meta
   - **åˆ†ç±»**: ç”¨äºä»£ç æ³¨é‡Šåˆ†ç»„
   - **Base/Flat/Percent**: åˆå§‹å€¼ï¼ˆResource ç±»å‹è¿˜æœ‰ Currentï¼‰
4. ç‚¹å‡» **[ä¿å­˜ä¿®æ”¹]** æˆ–æŒ‰ `Ctrl+S`

#### å¿«é€Ÿç¼–è¾‘
- **åŒå‡»å•å…ƒæ ¼**: ç›´æ¥åœ¨è¡¨æ ¼ä¸­ç¼–è¾‘
- **F2**: é‡å‘½åå½“å‰é€‰ä¸­é¡¹
- **Delete**: åˆ é™¤å½“å‰é€‰ä¸­é¡¹

### 1.4 ç”Ÿæˆçš„ä»£ç 

ç‚¹å‡» **[ç”Ÿæˆä»£ç ]** åï¼Œç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

| æ–‡ä»¶ | è·¯å¾„ |
|------|------|
| Header | `Source/DJ01/AbilitySystem/Attributes/Public/DJ01GeneratedAttributes.h` |
| Source | `Source/DJ01/AbilitySystem/Attributes/Private/DJ01GeneratedAttributes.cpp` |

**ç”Ÿæˆç¤ºä¾‹ï¼ˆLayered ç±»å‹ï¼‰**:
```cpp
// Attack å±æ€§
DECLARE_LAYERED_ATTRIBUTE(UDJ01StatSet, Attack)
// ç”Ÿæˆ: BaseAttack, FlatAttack, PercentAttack, Attack(è®¡ç®—å€¼)
```

**ç”Ÿæˆç¤ºä¾‹ï¼ˆResource ç±»å‹ï¼‰**:
```cpp
// Health èµ„æº
DECLARE_RESOURCE_ATTRIBUTE(UDJ01StatSet, Health)
// ç”Ÿæˆ: BaseMaxHealth, FlatMaxHealth, PercentMaxHealth, MaxHealth(è®¡ç®—å€¼), Health(å½“å‰å€¼)
```

### 1.5 ä½¿ç”¨ç”Ÿæˆçš„å±æ€§

```cpp
// åœ¨ GameplayEffect ä¸­ä¿®æ”¹å±æ€§
Modifiers:
  - Attribute: UDJ01StatSet.FlatAttack  // +50 æ”»å‡»åŠ›
    Operation: Add
    Magnitude: 50

// åœ¨ä»£ç ä¸­è¯»å–
float TotalAttack = AttributeSet->GetAttack();      // è·å–æœ€ç»ˆå€¼
float BaseAttack = AttributeSet->GetBaseAttack();   // è·å–åŸºç¡€å€¼
```

---

## äºŒã€GameplayTags ç¼–è¾‘å™¨

### 2.1 æ¦‚å¿µè¯´æ˜

GameplayTags æ˜¯ UE5 GAS çš„æ ¸å¿ƒæ ‡è¯†ç³»ç»Ÿï¼Œç”¨äºï¼š
- æ ‡è¯†æŠ€èƒ½ã€çŠ¶æ€ã€äº‹ä»¶
- æŠ€èƒ½æ¿€æ´»æ¡ä»¶åˆ¤æ–­
- ä¼¤å®³ç±»å‹åˆ†ç±»
- GameplayCue è§¦å‘

### 2.2 ç•Œé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ ‡ç­¾åˆ†ç±»   â”‚  â”‚            æ ‡ç­¾åˆ—è¡¨                 â”‚  â”‚   ç¼–è¾‘æ ‡ç­¾     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ Ability (6)  â”‚  â”‚ Tag Path          â”‚ Variable       â”‚  â”‚ æ ‡ç­¾è·¯å¾„:      â”‚
â”‚ Status (14)  â”‚  â”‚ Ability.Attack    â”‚ Ability_Attack â”‚  â”‚ [Ability.Skill]â”‚
â”‚ Damage (10)  â”‚  â”‚ Ability.Dodge     â”‚ Ability_Dodge  â”‚  â”‚ å˜é‡å:        â”‚
â”‚ GameplayCue  â”‚  â”‚ Ability.Block     â”‚ Ability_Block  â”‚  â”‚ [Ability_Skill]â”‚
â”‚ ...          â”‚  â”‚                   â”‚                â”‚  â”‚ æè¿°:          â”‚
â”‚              â”‚  â”‚                   â”‚                â”‚  â”‚ [æŠ€èƒ½æ ‡ç­¾]     â”‚
â”‚ [+æ–°å»º][-åˆ é™¤]â”‚  â”‚                                   â”‚  â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  [+ æ·»åŠ æ ‡ç­¾] [- åˆ é™¤æ ‡ç­¾]    [ä¿å­˜é…ç½®] [é‡æ–°åŠ è½½] [ç”Ÿæˆä»£ç ]
```

### 2.3 æ“ä½œæµç¨‹

#### æ·»åŠ æ ‡ç­¾
1. é€‰æ‹©æˆ–æ–°å»ºåˆ†ç±»
2. ç‚¹å‡» **[+ æ·»åŠ æ ‡ç­¾]**
3. ç¼–è¾‘æ ‡ç­¾ä¿¡æ¯ï¼š
   - **æ ‡ç­¾è·¯å¾„**: å¦‚ `Ability.Skill.Fireball`ï¼ˆç”¨ `.` åˆ†éš”å±‚çº§ï¼‰
   - **å˜é‡å**: è‡ªåŠ¨ç”Ÿæˆ `Ability_Skill_Fireball`ï¼ˆå¯æ‰‹åŠ¨ä¿®æ”¹ï¼‰
   - **æè¿°**: ç”¨äºä»£ç æ³¨é‡Š

#### å‘½åè§„èŒƒ
```
[é¡¶çº§åˆ†ç±»].[å­åˆ†ç±»].[å…·ä½“æ ‡ç­¾]

ç¤ºä¾‹ï¼š
- Ability.Attack.Light      // è½»æ”»å‡»æŠ€èƒ½
- Status.Condition.Stunned  // çœ©æ™•çŠ¶æ€
- Damage.Element.Fire       // ç«å…ƒç´ ä¼¤å®³
- GameplayCue.Hit.Physical  // ç‰©ç†å‘½ä¸­ç‰¹æ•ˆ
```

### 2.4 ç”Ÿæˆçš„ä»£ç 

| æ–‡ä»¶ | è·¯å¾„ |
|------|------|
| Header | `Source/DJ01/System/Public/DJ01GameplayTags.h` |
| Source | `Source/DJ01/System/Private/DJ01GameplayTags.cpp` |

**ç”Ÿæˆç¤ºä¾‹**:
```cpp
// Header
namespace DJ01GameplayTags
{
    DJ01_API UE_DECLARE_GAMEPLAY_TAG_EXTERN(Ability_Attack_Light);
}

// Source
namespace DJ01GameplayTags
{
    UE_DEFINE_GAMEPLAY_TAG_COMMENT(Ability_Attack_Light, "Ability.Attack.Light", "Light attack ability.");
}
```

### 2.5 ä½¿ç”¨ç”Ÿæˆçš„æ ‡ç­¾

```cpp
#include "DJ01GameplayTags.h"

// æ£€æŸ¥æ ‡ç­¾
if (AbilityTags.HasTag(DJ01GameplayTags::Ability_Attack_Light))
{
    // æ‰§è¡Œè½»æ”»å‡»é€»è¾‘
}

// æ·»åŠ æ ‡ç­¾
ASC->AddLooseGameplayTag(DJ01GameplayTags::Status_Condition_Stunned);
```

---

## ä¸‰ã€Execution ç¼–è¾‘å™¨

### 3.1 æ¦‚å¿µè¯´æ˜

Executionï¼ˆ`UGameplayEffectExecutionCalculation`ï¼‰ç”¨äºå¤æ‚çš„æ•°å€¼è®¡ç®—ï¼Œå¦‚ï¼š
- ä¼¤å®³è®¡ç®—ï¼ˆè€ƒè™‘æ”»å‡»ã€é˜²å¾¡ã€æš´å‡»ã€å…ƒç´ å…‹åˆ¶ï¼‰
- æ²»ç–—è®¡ç®—
- å±æ€§è½¬æ¢

### 3.2 ç•Œé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Execution   â”‚  â”‚           æ•è·å±æ€§                  â”‚  â”‚  ç¼–è¾‘ Executionâ”‚
â”‚   åˆ—è¡¨       â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚ Source â”‚ Attribute    â”‚ Layer      â”‚  â”‚ åç§°:          â”‚
â”‚ DamageExec   â”‚  â”‚ Source â”‚ Attack       â”‚ Total      â”‚  â”‚ [DamageExec]   â”‚
â”‚ HealExec     â”‚  â”‚ Target â”‚ Defense      â”‚ Total      â”‚  â”‚                â”‚
â”‚              â”‚  â”‚ Target â”‚ Health       â”‚ Value      â”‚  â”‚ æè¿°:          â”‚
â”‚              â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚ [ä¼¤å®³è®¡ç®—å…¬å¼] â”‚
â”‚              â”‚  â”‚           è¾“å‡ºä¿®æ”¹                  â”‚  â”‚                â”‚
â”‚              â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚                â”‚
â”‚              â”‚  â”‚ Attribute    â”‚ Op      â”‚ Magnitude â”‚  â”‚                â”‚
â”‚              â”‚  â”‚ Health       â”‚ Add     â”‚ -Damage   â”‚  â”‚                â”‚
â”‚ [+æ–°å»º][-åˆ é™¤]â”‚  â”‚                                   â”‚  â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  [+ æ·»åŠ æ•è·] [+ æ·»åŠ è¾“å‡º]   [ä¿å­˜é…ç½®] [é‡æ–°åŠ è½½] [ç”Ÿæˆä»£ç ]
```

### 3.3 æ ¸å¿ƒæ¦‚å¿µ

#### æ•è·å±æ€§ï¼ˆCaptureï¼‰
ä»æ¥æºæˆ–ç›®æ ‡èº«ä¸Šè·å–å±æ€§å€¼ç”¨äºè®¡ç®—ï¼š

| å­—æ®µ | è¯´æ˜ | å¯é€‰å€¼ |
|------|------|--------|
| Source | å±æ€§æ¥æº | `Source`ï¼ˆæ–½æ³•è€…ï¼‰/ `Target`ï¼ˆç›®æ ‡ï¼‰ |
| Attribute | å±æ€§å | ä»å±æ€§ç¼–è¾‘å™¨ä¸­é€‰æ‹© |
| Layer | æ•è·çš„å±‚ | `Base` / `Flat` / `Percent` / `Total` / `Value` |

#### è¾“å‡ºä¿®æ”¹ï¼ˆOutputï¼‰
å°†è®¡ç®—ç»“æœåº”ç”¨åˆ°ç›®æ ‡å±æ€§ï¼š

| å­—æ®µ | è¯´æ˜ | å¯é€‰å€¼ |
|------|------|--------|
| Attribute | ç›®æ ‡å±æ€§ | ä»å±æ€§ç¼–è¾‘å™¨ä¸­é€‰æ‹© |
| Operation | æ“ä½œç±»å‹ | `Additive`ï¼ˆåŠ ï¼‰/ `Multiply`ï¼ˆä¹˜ï¼‰/ `Override`ï¼ˆè¦†ç›–ï¼‰ |
| Magnitude | æ•°å€¼å˜é‡å | åœ¨ Execute å‡½æ•°ä¸­ä½¿ç”¨ |

### 3.4 æ“ä½œæµç¨‹

#### åˆ›å»ºä¼¤å®³å…¬å¼
1. ç‚¹å‡» **[+ æ–°å»º]**ï¼Œè¾“å…¥åç§° `DamageExec`
2. æ·»åŠ æ•è·å±æ€§ï¼š
   - Source â†’ Attack â†’ Totalï¼ˆæ”»å‡»è€…çš„æ”»å‡»åŠ›ï¼‰
   - Target â†’ Defense â†’ Totalï¼ˆç›®æ ‡çš„é˜²å¾¡åŠ›ï¼‰
3. æ·»åŠ è¾“å‡ºï¼š
   - Health â†’ Additive â†’ `FinalDamage`ï¼ˆæ‰£å‡ç”Ÿå‘½å€¼ï¼‰
4. ç‚¹å‡» **[ç”Ÿæˆä»£ç ]**
5. åœ¨ç”Ÿæˆçš„ `.cpp` æ–‡ä»¶ä¸­ç¼–å†™è®¡ç®—é€»è¾‘

### 3.5 ç”Ÿæˆçš„ä»£ç 

| æ–‡ä»¶ | è·¯å¾„ |
|------|------|
| Header | `Source/DJ01/AbilitySystem/Executions/Generated/DJ01Exec_DamageExec.h` |
| Source | `Source/DJ01/AbilitySystem/Executions/Generated/DJ01Exec_DamageExec.cpp` |

**ç”Ÿæˆç¤ºä¾‹**:
```cpp
// æ•è·å®šä¹‰
struct FDamageExecStatics
{
    DECLARE_ATTRIBUTE_CAPTUREDEF(Attack);
    DECLARE_ATTRIBUTE_CAPTUREDEF(Defense);
    
    FDamageExecStatics()
    {
        DEFINE_ATTRIBUTE_CAPTUREDEF(UDJ01StatSet, Attack, Source, true);
        DEFINE_ATTRIBUTE_CAPTUREDEF(UDJ01StatSet, Defense, Target, true);
    }
};

// Execute å‡½æ•°ï¼ˆéœ€è¦æ‰‹åŠ¨ç¼–å†™è®¡ç®—é€»è¾‘ï¼‰
void UDJ01Exec_DamageExec::Execute_Implementation(...) const
{
    float SourceAttack = 0.f;
    float TargetDefense = 0.f;
    
    // è·å–æ•è·çš„å±æ€§å€¼
    ExecutionParams.AttemptCalculateCapturedAttributeMagnitude(..., SourceAttack);
    ExecutionParams.AttemptCalculateCapturedAttributeMagnitude(..., TargetDefense);
    
    // TODO: åœ¨æ­¤ç¼–å†™ä¼¤å®³è®¡ç®—é€»è¾‘
    float FinalDamage = FMath::Max(0.f, SourceAttack - TargetDefense);
    
    // è¾“å‡ºç»“æœ
    OutExecutionOutput.AddOutputModifier(..., -FinalDamage);
}
```

### 3.6 ä½¿ç”¨ç”Ÿæˆçš„ Execution

åœ¨ GameplayEffect è“å›¾ä¸­ï¼š
1. æ·»åŠ  `Executions` æ•°ç»„å…ƒç´ 
2. é€‰æ‹© `DJ01Exec_DamageExec`
3. åº”ç”¨ GE æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨è®¡ç®—

---

## å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ | é€‚ç”¨èŒƒå›´ |
|--------|------|---------|
| `Ctrl+S` | ä¿å­˜å½“å‰ç¼–è¾‘å¹¶ä¿å­˜é…ç½® | å…¨å±€ |
| `F2` | é‡å‘½åé€‰ä¸­é¡¹ | åˆ—è¡¨ã€æ ‘å½¢æ§ä»¶ |
| `Delete` | åˆ é™¤é€‰ä¸­é¡¹ | åˆ—è¡¨ã€æ ‘å½¢æ§ä»¶ |
| `åŒå‡»` | å†…è”ç¼–è¾‘å•å…ƒæ ¼ | æ ‘å½¢è¡¨æ ¼ |

---

## å¸¸è§é—®é¢˜

### Q: ç”Ÿæˆä»£ç åéœ€è¦åšä»€ä¹ˆï¼Ÿ
A: 
1. åœ¨ Rider/VS ä¸­åˆ·æ–°é¡¹ç›®ï¼ˆæˆ–é‡æ–°ç”Ÿæˆé¡¹ç›®æ–‡ä»¶ï¼‰
2. é‡æ–°ç¼–è¯‘é¡¹ç›®
3. æ–°çš„å±æ€§/æ ‡ç­¾/Execution å³å¯åœ¨è“å›¾ä¸­ä½¿ç”¨

### Q: ä¿®æ”¹å±æ€§åå¦‚ä½•æ›´æ–°ï¼Ÿ
A: 
1. åœ¨ç”Ÿæˆå™¨ä¸­ä¿®æ”¹é…ç½®
2. ç‚¹å‡» **[ç”Ÿæˆä»£ç ]** è¦†ç›–ç”Ÿæˆ
3. é‡æ–°ç¼–è¯‘

### Q: Execution çš„è®¡ç®—é€»è¾‘åœ¨å“ªå†™ï¼Ÿ
A: ç”Ÿæˆå™¨åªç”Ÿæˆæ¡†æ¶ä»£ç ï¼Œè®¡ç®—é€»è¾‘éœ€è¦åœ¨ç”Ÿæˆçš„ `.cpp` æ–‡ä»¶çš„ `Execute_Implementation` å‡½æ•°ä¸­æ‰‹åŠ¨ç¼–å†™ã€‚

### Q: é…ç½®æ–‡ä»¶åœ¨å“ªï¼Ÿ
A:
| æ¨¡å— | é…ç½®æ–‡ä»¶ |
|------|---------|
| å±æ€§ | `Source/DJ01/AbilitySystem/Attributes/Config/AttributeDefinitions.csv` |
| Tags | `Source/DJ01/System/Config/GameplayTagDefinitions.json` |
| Execution | `Source/DJ01/AbilitySystem/Executions/Config/ExecutionDefinitions.json` |

---

## æ–‡ä»¶ç»“æ„

```
Tools/AttributeGenerator/
â”œâ”€â”€ main.py              # ä¸»å…¥å£
â”œâ”€â”€ config.py            # é…ç½®å¸¸é‡
â”œâ”€â”€ attribute_module.py  # å±æ€§ç¼–è¾‘å™¨
â”œâ”€â”€ execution_module.py  # Execution ç¼–è¾‘å™¨
â”œâ”€â”€ tag_module.py        # Tags ç¼–è¾‘å™¨
â”œâ”€â”€ build_exe.bat        # æ‰“åŒ…è„šæœ¬
â””â”€â”€ README.md            # æœ¬è¯´æ˜ä¹¦
```

---

*æœ€åæ›´æ–°: 2024-12*